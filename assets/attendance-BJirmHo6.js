import{j as r,k as s,C as n,l as o}from"./index-_wxWPFXE.js";import{f as c}from"./format-cwXK75ha.js";const l=r({id:"attendance",state:()=>({attendances:[],loading:!1,error:null,success:null}),actions:{async fetchAttendances(t){try{this.loading=!0;const a=await s.get("/attendance",{params:t});a.data.data.forEach(e=>{e.program.time=c(new Date(e.program.time),"dd MMMM yyyy HH:mm")}),this.attendances=a.data.data}catch(a){this.handleError(a)}finally{this.loading=!1}},async createAttendance(t){try{this.loading=!0;const a=await s.post("/attendance",t);this.success=a.data.message,n.push({name:"attendance-history"})}catch(a){this.error=o(a)}finally{this.loading=!1}}}});export{l as u};
